<!doctype html><html lang="en" ng-app id="ng-app">
    <head>    
        <script src="bower_components/angular/angular.min.js"></script>
        <script>
        function PostsCtrlAjax($scope, $http)
        {
        	$scope.param = window.location.search.split('id=')[1];
        	$http({method: 'GET', url:'http://localhost:8080/rest/ev/personne/id/'+$scope.param})
        	.success(function(data){
        			$scope.post = data;
        	});
        
        
        
        	
        $scope.createEv = function(idP) {
			
			var myParam = window.location.search.split('id=')[1];
			alert("aaa ja"+myParam);
        	//window.location.reload();
        	}
        
        }
        </script>
        <style>
        body{font-family:arial; font-size:12px;padding:10px;}
        .postBody{ width:550px; border-bottom:dashed 2px #dedede}
        .postBody a{color:#333333;text-decoration:none}
        .postBody a:hover{color:#006699;background-color:#dedede}
        .time{margin:10px 0px 10px 0px; color:#006699; }
        </style>
    </head>
    <body >
            <h1>Details Personne</h1>   
             <a href="index.html" >go to list evenement</a>
               <a href="create_personne.html" >go to create personne</a>
            <div id="ng-app" ng-app ng-controller="PostsCtrlAjax">  
            	
	           		<h2>Nom: {{post.nom}}</h2>
	            	<div>{{post.id}} </div>
	            	<div>Destination : {{post.destination}} </div>
	            	<div>localisation : {{post.localisation}} </div>
	            	<div ng-show="post.voiture != null">
	            		<p>Voiture : {{post.voiture.series}} </p>
	            		<p>Nb Place: {{post.voiture.nbPlaceTotal}} </p>
	            	</div>
	            	
	            	<form ng-show="post.voiture != null">
	            		<p>Ici vous pouvez crée un Evenement de covoiturage </br>
	            			Dans laquelle <strong>{{post.nom}}</strong> sera
	            			conducteur.
	            		</p>
	            		<p>Veuillez spécifier la ville de départ et de destination SVP</p>
	            		Depart:<br>
						<input type="text" name="depart">
						<br>
						
						Destination:<br>
						<input type="text" name="dest">
						<br>
	            		<button ng-click="createEv(1)">Create Evenement</button> 
	           	 	</form>
	            	
            </div> 
    </body></html>